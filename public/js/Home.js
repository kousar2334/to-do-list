"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[268],{208:(t,a,e)=>{e.r(a),e.d(a,{default:()=>Y});var s=e(821),n={class:"row"},i={class:"col-12 mt-3"},o={class:"col-lg-3"},d={key:1,class:"col-6 d-flex flex-column justify-content-center mt-5 mx-auto"},r=(0,s._)("p",{class:"alert alert-danger"},"Not List found",-1),l={class:"form-group pb-3"},u=(0,s._)("label",{class:"mb-2"},"List Name",-1),c={class:"m-0 row"},f={class:"form-group pb-3"},p=(0,s._)("label",{class:"mb-2"},"List Name",-1),m={class:"m-0 row"};var k=e(669),w=e.n(k),h=e(2),_={class:"list"},b={class:"align-items-center d-flex justify-content-between list-header mt-3"},g={class:"mb-0 text-capitalize"},L={class:"list-actions"},T={class:"tasks-body p-0"},v={class:"form-group pb-3"},y=(0,s._)("label",{class:"mb-2"},"Task Name",-1),S={class:"m-0 row"},M={class:"form-group pb-3"},C=(0,s._)("label",{class:"mb-2"},"Task Name",-1),D={class:"m-0 row"};var x={class:"tasks__item tasks__item__toggle"},N={class:"content"},W={class:"action-area d-flex justify-content-between"},U={class:"mb-0 small text-secondary"},V={class:"action-btn d-flex gap-2"};const z=(0,s.aZ)({name:"TaskItem",props:{task:{type:Object,required:!0}},setup:function(t,a){var e=a.emit;return{deleteTask:function(){e("deleteTask",t.task.id)},editTask:function(){e("editTask",t.task)},changeStatus:function(){e("changeStatus",t.task.id)}}}});var E=e(744);const q=(0,E.Z)(z,[["render",function(t,a,e,n,i,o){var d=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("div",N,[(0,s._)("p",null,(0,s.zw)(t.task.name),1)]),(0,s._)("div",W,[(0,s._)("p",U,(0,s.zw)(t.task.date),1),(0,s._)("div",V,[(0,s._)("button",{class:(0,s.C_)(["task-action-btn",{done:1==t.task.status,pending:0==t.task.status}]),title:"Change Status",onClick:a[0]||(a[0]=function(){return t.changeStatus&&t.changeStatus.apply(t,arguments)})},[(0,s.Wm)(d,{icon:"fas fa-check"})],2),(0,s._)("button",{class:"task-action-btn",onClick:a[1]||(a[1]=function(){return t.editTask&&t.editTask.apply(t,arguments)}),title:"Edit Task"},[(0,s.Wm)(d,{icon:"fas fa-pencil"})]),(0,s._)("button",{class:"task-action-btn danger",onClick:a[2]||(a[2]=function(){return t.deleteTask&&t.deleteTask.apply(t,arguments)}),title:"Delete Task"},[(0,s.Wm)(d,{icon:"fas fa-trash-alt"})])])])])}]]);var j=e(907);const H=(0,s.aZ)({name:"List",components:{TaskItem:q},props:{list:{type:Object,required:!0}},setup:function(t,a){var e=a.emit,n=(0,s.qj)({errors:[],submit_data:!1,newTask:"",tasks:[],editTask:{},newTaskModalShow:!1,listEditModalShow:!1,taskUpdateModalShow:!1,currentPage:1}),i=(0,h.pm)(),o=(0,j.oR)(),d={headers:{Authorization:"Bearer ".concat(o.getters.userToken)}};function r(){w().post("api/v1/task-lists",{page:n.currentPage,list_id:t.list.id},d).then((function(t){t.data.success&&(n.tasks=t.data.data),t.data.success||(n.tasks=[])})).catch((function(t){n.tasks=[]}))}return(0,s.bv)((function(){r()})),{data:n,storeNewTask:function(){n.submit_data=!0,n.errors=[],w().post("api/v1/store-task",{name:n.newTask,todo_list_id:t.list.id},d).then((function(t){t.data.success&&(n.newTaskModalShow=!1,n.newTask="",r()),t.data.success||i.error("Task create failed"),n.submit_data=!1})).catch((function(t){n.submit_data=!1,422==t.response.status&&(n.errors=t.response.data.errors),422==!t.response.status&&i.error("Task create failed")}))},getTasks:r,editList:function(){e("showListEditModal",t.list)},deleteList:function(){e("deleteList",t.list.id)},deleteTask:function(t){w().post("api/v1/delete-task",{id:t},d).then((function(t){t.data.success&&(r(),i.success("Task deleted successfully")),t.data.success||i.error("Task delete failed")})).catch((function(t){i.error("Task delete failed")}))},editTask:function(t){n.editTask=t,n.taskUpdateModalShow=!0},updateTask:function(){n.submit_data=!0,n.errors=[],w().post("api/v1/update-task",{name:n.editTask.name,id:n.editTask.id,todo_list_id:t.list.id},d).then((function(t){t.data.success&&(n.taskUpdateModalShow=!1,n.editTask={},r()),t.data.success||i.error("Task Update failed"),n.submit_data=!1})).catch((function(t){n.submit_data=!1,422==t.response.status&&(n.errors=t.response.data.errors),422==!t.response.status&&i.error("Task update failed")}))},changeStatus:function(t){w().post("api/v1/change-task-status",{id:t},d).then((function(t){t.data.success&&r(),t.data.success||i.error("Status update failed")})).catch((function(t){i.error("Status update failed")}))}}}}),K=(0,E.Z)(H,[["render",function(t,a,e,n,i,o){var d=(0,s.up)("font-awesome-icon"),r=(0,s.up)("b-dropdown-item"),l=(0,s.up)("b-dropdown"),u=(0,s.up)("task-item"),c=(0,s.up)("b-container"),f=(0,s.up)("b-modal");return(0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",b,[(0,s._)("h6",g,(0,s.zw)(t.list.name),1),(0,s._)("div",L,[(0,s._)("a",{href:"#",class:"text-black",title:"Add New Task",onClick:a[0]||(a[0]=function(a){return t.data.newTaskModalShow=!t.data.newTaskModalShow})},[(0,s.Wm)(d,{icon:"fas fa-plus"})]),(0,s.Wm)(l,{variant:"text","no-caret":"",right:"",text:"Right align",title:"More Actions"},{"button-content":(0,s.w5)((function(){return[(0,s.Wm)(d,{icon:"fas fa-ellipsis"})]})),default:(0,s.w5)((function(){return[(0,s.Wm)(r,{href:"#",onClick:t.editList},{default:(0,s.w5)((function(){return[(0,s.Wm)(d,{icon:"fas fa-pencil"}),(0,s.Uk)(" Edit")]})),_:1},8,["onClick"]),(0,s.Wm)(r,{href:"#",class:"text-danger",onClick:t.deleteList},{default:(0,s.w5)((function(){return[(0,s.Wm)(d,{icon:"fas fa-trash-alt"}),(0,s.Uk)(" Delete")]})),_:1},8,["onClick"])]})),_:1})])]),(0,s._)("div",T,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.data.tasks,(function(a,e){return(0,s.wg)(),(0,s.j4)(u,{task:a,key:e,onDeleteTask:t.deleteTask,onEditTask:t.editTask,onChangeStatus:t.changeStatus},null,8,["task","onDeleteTask","onEditTask","onChangeStatus"])})),128))]),(0,s.Wm)(f,{modelValue:t.data.newTaskModalShow,"onUpdate:modelValue":a[3]||(a[3]=function(a){return t.data.newTaskModalShow=a}),title:"Create New Task","hide-footer":""},{default:(0,s.w5)((function(){return[(0,s.Wm)(c,{fluid:""},{default:(0,s.w5)((function(){return[(0,s._)("div",v,[y,(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Name",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=function(a){return t.data.newTask=a})},null,512),[[s.nr,t.data.newTask]]),t.data.errors.name?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(t.data.errors.name,(function(t,a){return(0,s.wg)(),(0,s.iD)("p",{class:"fz-12 text-danger mt-1 mb-0",key:a},(0,s.zw)(t),1)})),128)):(0,s.kq)("",!0)]),(0,s._)("div",S,[(0,s._)("button",{class:(0,s.C_)(["btn btn-primary",{loading:t.data.submit_data}]),onClick:a[2]||(a[2]=(0,s.iM)((function(){return t.storeNewTask&&t.storeNewTask.apply(t,arguments)}),["prevent"]))},"Save",2)])]})),_:1})]})),_:1},8,["modelValue"]),(0,s.Wm)(f,{modelValue:t.data.taskUpdateModalShow,"onUpdate:modelValue":a[6]||(a[6]=function(a){return t.data.taskUpdateModalShow=a}),title:"Update Task","hide-footer":""},{default:(0,s.w5)((function(){return[(0,s.Wm)(c,{fluid:""},{default:(0,s.w5)((function(){return[(0,s._)("div",M,[C,(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Name",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=function(a){return t.data.editTask.name=a})},null,512),[[s.nr,t.data.editTask.name]]),t.data.errors.name?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(t.data.errors.name,(function(t,a){return(0,s.wg)(),(0,s.iD)("p",{class:"fz-12 text-danger mt-1 mb-0",key:a},(0,s.zw)(t),1)})),128)):(0,s.kq)("",!0)]),(0,s._)("div",D,[(0,s._)("button",{class:(0,s.C_)(["btn btn-primary",{loading:t.data.submit_data}]),onClick:a[5]||(a[5]=(0,s.iM)((function(){return t.updateTask&&t.updateTask.apply(t,arguments)}),["prevent"]))}," Save Change ",2)])]})),_:1})]})),_:1},8,["modelValue"])])}]]),P=(0,s.aZ)({name:"Home",components:{List:K},setup:function(){var t=(0,s.qj)({errors:[],submit_data:!1,newList:"",editList:{},lists:[],newListModalShow:!1,listEditModalShow:!1,dataLoading:!0,currentPage:1}),a=(0,h.pm)(),e=(0,j.oR)(),n={headers:{Authorization:"Bearer ".concat(e.getters.userToken)}};function i(){t.dataLoading=!0,w().post("api/v1/get-to-do-lists",{page:t.currentPage},n).then((function(e){e.data.success&&(t.lists=e.data.data,t.currentPage=e.data.meta.current_page),e.data.success||a.error("Data Loading failed"),t.dataLoading=!1})).catch((function(e){t.dataLoading=!1,a.error("Data Loading failed")}))}return(0,s.bv)((function(){i()})),{data:t,storeNewList:function(){t.submit_data=!0,t.errors=[],w().post("api/v1/store-list",{name:t.newList},n).then((function(e){e.data.success&&(t.newListModalShow=!1,t.newList="",a.success("New list created successfully"),t.currentPage=1,t.lists=[],i()),e.data.success||a.error("List create failed"),t.submit_data=!1})).catch((function(e){t.submit_data=!1,422==e.response.status&&(t.errors=e.response.data.errors),422==!e.response.status&&a.error("List create failed")}))},getLists:i,updateList:function(){t.submit_data=!0,t.errors=[],w().post("api/v1/update-list",{name:t.editList.name,id:t.editList.id},n).then((function(e){e.data.success&&(t.listEditModalShow=!1,a.success("List update successfully"),t.editList={},t.lists=[],i()),e.data.success||a.error("List update failed"),t.submit_data=!1})).catch((function(e){t.submit_data=!1,422==e.response.status&&(t.errors=e.response.data.errors),422==!e.response.status&&a.error("List update failed")}))},editList:function(a){t.editList=a,t.listEditModalShow=!0},deleteList:function(e){w().post("api/v1/delete-list",{id:e},n).then((function(e){e.data.success&&(a.success("List deleted successfully"),t.lists=[],i()),e.data.success||a.error("List delete failed")})).catch((function(t){a.error("List delete failed")}))}}}}),Y=(0,E.Z)(P,[["render",function(t,a,e,k,w,h){var _=(0,s.up)("list"),b=(0,s.up)("b-container"),g=(0,s.up)("b-modal");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",i,[t.data.lists.length>0?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-success rounded",onClick:a[0]||(a[0]=function(a){return t.data.newListModalShow=!t.data.newListModalShow})}," Add New List ")):(0,s.kq)("",!0)]),t.data.lists.length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(t.data.lists,(function(a,e){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(_,{list:a,index:e,onShowListEditModal:t.editList,onDeleteList:t.deleteList},null,8,["list","index","onShowListEditModal","onDeleteList"])])})),256)):(0,s.kq)("",!0),t.data.lists.length<1&&!t.data.dataLoading?((0,s.wg)(),(0,s.iD)("div",d,[r,(0,s._)("button",{class:"btn btn-success rounded",onClick:a[1]||(a[1]=function(a){return t.data.newListModalShow=!t.data.newListModalShow})}," Create First List ")])):(0,s.kq)("",!0),(0,s.Wm)(g,{modelValue:t.data.newListModalShow,"onUpdate:modelValue":a[4]||(a[4]=function(a){return t.data.newListModalShow=a}),title:"Create New List","hide-footer":""},{default:(0,s.w5)((function(){return[(0,s.Wm)(b,{fluid:""},{default:(0,s.w5)((function(){return[(0,s._)("div",l,[u,(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Name",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=function(a){return t.data.newList=a})},null,512),[[s.nr,t.data.newList]]),t.data.errors.name?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(t.data.errors.name,(function(t,a){return(0,s.wg)(),(0,s.iD)("p",{class:"fz-12 text-danger mt-1 mb-0",key:a},(0,s.zw)(t),1)})),128)):(0,s.kq)("",!0)]),(0,s._)("div",c,[(0,s._)("button",{class:(0,s.C_)(["btn btn-primary",{loading:t.data.submit_data}]),onClick:a[3]||(a[3]=(0,s.iM)((function(){return t.storeNewList&&t.storeNewList.apply(t,arguments)}),["prevent"]))},"Save",2)])]})),_:1})]})),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:t.data.listEditModalShow,"onUpdate:modelValue":a[7]||(a[7]=function(a){return t.data.listEditModalShow=a}),title:"Update List","hide-footer":""},{default:(0,s.w5)((function(){return[(0,s.Wm)(b,{fluid:""},{default:(0,s.w5)((function(){return[(0,s._)("div",f,[p,(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Name",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=function(a){return t.data.editList.name=a})},null,512),[[s.nr,t.data.editList.name]]),t.data.errors.name?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(t.data.errors.name,(function(t,a){return(0,s.wg)(),(0,s.iD)("p",{class:"fz-12 text-danger mt-1 mb-0",key:a},(0,s.zw)(t),1)})),128)):(0,s.kq)("",!0)]),(0,s._)("div",m,[(0,s._)("button",{class:(0,s.C_)(["btn btn-primary",{loading:t.data.submit_data}]),onClick:a[6]||(a[6]=(0,s.iM)((function(){return t.updateList&&t.updateList.apply(t,arguments)}),["prevent"]))}," Save Change ",2)])]})),_:1})]})),_:1},8,["modelValue"])])}]])}}]);